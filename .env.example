# UBDomains Hosting Provider Platform Configuration
# ===================================================

# Application
APP_NAME=UBDomains
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000

APP_LOCALE=en-gb
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_GB

APP_MAINTENANCE_DRIVER=file
# APP_MAINTENANCE_STORE=database

PHP_CLI_SERVER_WORKERS=4

BCRYPT_ROUNDS=12

# Logging
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# Database - Single Database for Platform and Customers
# Supports: mysql, pgsql, sqlite, mariadb
DB_CONNECTION=mysql
DB_HOST=localhost
DB_PORT=3306
DB_DATABASE=ubdomains_db
DB_USERNAME=root
DB_PASSWORD=secret

# Additional Database Performance Settings
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_unicode_ci
DB_TIMEZONE=+00:00
DB_STRICT_MODE=true

# Session
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null
SESSION_COOKIE=ubdomains_session

# Broadcasting & Queue
BROADCAST_CONNECTION=log
QUEUE_CONNECTION=database

# Filesystem
FILESYSTEM_DISK=local

# Cache
CACHE_STORE=redis
CACHE_PREFIX=ubdomains

# Memcached (optional)
MEMCACHED_HOST=127.0.0.1

# Redis
REDIS_CLIENT=phpredis
REDIS_HOST=localhost
REDIS_PASSWORD=secret
REDIS_PORT=6380

# Mail Configuration
MAIL_MAILER=smtp
MAIL_SCHEME=null
MAIL_HOST=localhost
MAIL_PORT=1026
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="noreply@ubdomains.com"
MAIL_FROM_NAME="${APP_NAME}"

# AWS S3 (for Backup Storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=eu-west-2
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# Vite
VITE_APP_NAME="${APP_NAME}"

# ===================================================
# UBDomains Hosting Provider Specific Configuration
# ===================================================

# Platform Settings
UBDOMAINS_DOMAIN="ubdomains.com"
UBDOMAINS_SUPPORT_EMAIL="support@ubdomains.com"
UBDOMAINS_BILLING_EMAIL="billing@ubdomains.com"
UBDOMAINS_ABUSE_EMAIL="abuse@ubdomains.com"
UBDOMAINS_ADMIN_EMAIL="admin@ubdomains.com"

# Customer Portal Settings
CUSTOMER_PORTAL_SUBDOMAIN=true
CUSTOMER_SESSION_LIFETIME=10080  # 7 days in minutes
CUSTOMER_PASSWORD_RESET_EXPIRY=60  # minutes
CUSTOMER_EMAIL_VERIFICATION_REQUIRED=true

# Multi-tenancy Configuration
TENANCY_DATABASE_MANAGER_MYSQL=true
TENANCY_IDENTIFICATION_DRIVER=subdomain
TENANCY_CENTRAL_DOMAINS="ubdomains.com,www.ubdomains.com,admin.ubdomains.com"

# Hosting Service Defaults
DEFAULT_PHP_VERSION="8.2"
DEFAULT_MAILBOX_SIZE_MB=1000
DEFAULT_DATABASE_SIZE_MB=500
DEFAULT_DATABASE_COLLATION="utf8mb4_unicode_ci"
DEFAULT_FTP_QUOTA_MB=5000
DEFAULT_BANDWIDTH_LIMIT_GB=100

# Server Configuration
SERVER_CONTROL_PANEL="cpanel"  # cpanel, plesk, directadmin, custom
SERVER_API_HOST=""
SERVER_API_TOKEN=""
SERVER_API_SECRET=""

# DNS Management
DNS_PROVIDER="cloudflare"  # cloudflare, route53, custom
DNS_API_KEY=""
DNS_API_SECRET=""
DNS_DEFAULT_TTL=3600
DNS_AUTO_CONFIGURE=true

# Domain Registration
DOMAIN_REGISTRAR="namecheap"  # namecheap, enom, resellerclub
DOMAIN_API_USER=""
DOMAIN_API_KEY=""
DOMAIN_AUTO_RENEW_DEFAULT=true
DOMAIN_WHOIS_PRIVACY_DEFAULT=true
DOMAIN_LOCK_DEFAULT=true

# SSL Certificate Management
SSL_AUTO_PROVISION=true
SSL_PROVIDER="letsencrypt"  # letsencrypt, zerossl, sectigo
SSL_API_KEY=""
SSL_API_SECRET=""
SSL_AUTO_RENEW=true
SSL_RENEWAL_DAYS_BEFORE_EXPIRY=30

# Email Service Configuration
EMAIL_SERVER_TYPE="dovecot"  # dovecot, zimbra, exchange
EMAIL_SMTP_HOST="mail.ubdomains.com"
EMAIL_SMTP_PORT=587
EMAIL_IMAP_HOST="mail.ubdomains.com"
EMAIL_IMAP_PORT=993
EMAIL_SPAM_FILTER="spamassassin"  # spamassassin, rspamd, none
EMAIL_ANTIVIRUS="clamav"  # clamav, none

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_PROVIDER="local"  # local, s3, backblaze, rsync
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH="/var/backups/ubdomains"
BACKUP_DAILY_TIME="02:00"
BACKUP_WEEKLY_DAY="sunday"
BACKUP_MONTHLY_DAY=1
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_ENCRYPTION_KEY=""

# Resource Monitoring
MONITOR_DISK_USAGE=true
MONITOR_BANDWIDTH=true
MONITOR_EMAIL_USAGE=true
MONITOR_DATABASE_SIZE=true
MONITOR_INTERVAL_MINUTES=60
MONITOR_ALERT_THRESHOLD_PERCENT=90

# Billing & Invoicing
BILLING_CURRENCY="GBP"
BILLING_TAX_RATE=20
BILLING_TAX_NUMBER=""  # VAT number
BILLING_GRACE_PERIOD_DAYS=7
BILLING_AUTO_SUSPEND_DAYS=30
BILLING_AUTO_TERMINATE_DAYS=60
BILLING_PAYMENT_GATEWAY="stripe"  # stripe, paypal, manual
BILLING_STRIPE_KEY=""
BILLING_STRIPE_SECRET=""
BILLING_PAYPAL_CLIENT_ID=""
BILLING_PAYPAL_SECRET=""

# Security Settings
SECURITY_2FA_ENABLED=true
SECURITY_IP_WHITELIST_ENABLED=false
SECURITY_IP_WHITELIST=""  # Comma-separated IP addresses
SECURITY_MAX_LOGIN_ATTEMPTS=5
SECURITY_LOCKOUT_DURATION=30  # minutes
SECURITY_PASSWORD_MIN_LENGTH=8
SECURITY_PASSWORD_REQUIRE_UPPERCASE=true
SECURITY_PASSWORD_REQUIRE_NUMBERS=true
SECURITY_PASSWORD_REQUIRE_SYMBOLS=true

# API Configuration
API_RATE_LIMIT_PER_MINUTE=60
API_RATE_LIMIT_ADMIN=600
API_VERSION="v1"
API_DOCUMENTATION_ENABLED=true

# Notification Settings
NOTIFICATIONS_EMAIL_ENABLED=true
NOTIFICATIONS_SMS_ENABLED=false
NOTIFICATIONS_SMS_PROVIDER=""  # twilio, nexmo
NOTIFICATIONS_SMS_API_KEY=""
NOTIFICATIONS_SMS_API_SECRET=""
NOTIFICATIONS_SLACK_ENABLED=false
NOTIFICATIONS_SLACK_WEBHOOK=""

# Support Ticket System
SUPPORT_TICKET_PREFIX="UBD"
SUPPORT_AUTO_ASSIGN=true
SUPPORT_PRIORITY_LEVELS="low,medium,high,urgent"
SUPPORT_CATEGORIES="technical,billing,domain,abuse,other"
SUPPORT_SLA_RESPONSE_HOURS=24

# Maintenance Mode
MAINTENANCE_SECRET=""  # Secret key to bypass maintenance mode
MAINTENANCE_REDIRECT=""  # URL to redirect during maintenance

# Development/Debug (disable in production)
DEBUGBAR_ENABLED=false
TELESCOPE_ENABLED=false
QUERY_DETECTOR_ENABLED=false

# Feature Flags
FEATURE_DOMAIN_REGISTRATION=true
FEATURE_SSL_CERTIFICATES=true
FEATURE_EMAIL_HOSTING=true
FEATURE_WEBSITE_BUILDER=false
FEATURE_CDN_SERVICES=false
FEATURE_MANAGED_WORDPRESS=false
FEATURE_AFFILIATE_PROGRAM=false